// src/data/priceList.ts
export type PriceItem = { title: string; price: string };
export type PriceCategory = { title: string; items: PriceItem[] };

export const slugify = (s: string) =>
  s
    .toLowerCase()
    .replace(/\s+/g, '-')
    .replace(/[^a-zа-я0-9-]/g, '')
    .replace(/-+/g, '-')
    .replace(/^-|-$/g, '');

export const PRICE_CATEGORIES: PriceCategory[] = [
  {
    title: 'Консультация специалистов',
    items: [
      {
        title:
          'Консультация главного врача Д.М.Н., профессора (невролога, рефлексотерапевта, мануального терапевта) до 60 минут',
        price: '5500₽',
      },
      {
        title:
          'Консультация главного врача Д.М.Н., профессора (невролога, рефлексотерапевта, мануального терапевта) до 30 минут',
        price: '3500₽',
      },
      {
        title:
          'Прием первичный (осмотр, консультация) врача-невролога / рефлексотерапевта / мануального терапевта) до 60 минут',
        price: '3500₽',
      },
      {
        title:
          'Прием первичный (осмотр, консультация) врача-невролога / рефлексотерапевта / мануального терапевта) до 30 минут',
        price: '2500₽',
      },
      {
        title:
          'Прием повторный (осмотр, консультация) главного врача Д.М.Н., профессора (невролога, рефлексотерапевта, мануального терапевта) до 60 минут',
        price: '5000₽',
      },
      {
        title:
          'Прием повторный (осмотр, консультация) главного врача Д.М.Н., профессора (невролога, рефлексотерапевта, мануального терапевта) до 30 минут',
        price: '3000₽',
      },
      {
        title:
          'Прием повторный (осмотр, консультация) врача-невролога / рефлексотерапевта / мануального терапевта) до 60 минут',
        price: '3000₽',
      },
      {
        title:
          'Прием повторный (осмотр, консультация) врача-невролога / рефлексотерапевта / мануального терапевта) до 30 минут',
        price: '2000₽',
      },
    ],
  },
  {
    title: 'Рефлексодиагностика',
    items: [
      {
        title:
          'Электропунктурная рефлексодиагностика по органам и системам до 30 минут',
        price: '3000₽',
      },
      {
        title: 'Электропунктурная рефлексодиагностика позвоночника до 30 минут',
        price: '3000₽',
      },
    ],
  },
  {
    title: 'Рефлексотерапевтические массажи',
    items: [
      { title: 'Точечный массаж (до 30 минут)', price: '2500₽' },
      { title: 'Сегментарный массаж (до 30 минут)', price: '2500₽' },
      {
        title: 'Массаж по мышечно-сухожильным меридианам Гуа-ша (до 30 минут)',
        price: '3250₽',
      },
    ],
  },
  {
    title: 'Акупунктурное омоложение',
    items: [
      { title: 'Акупунктурный лифтинг лица (Face Lifting)', price: '8000₽' },
      { title: 'Акупунктурный лифтинг тела', price: '6500₽' },
    ],
  },
  {
    title: 'Мануальная терапия',
    items: [
      {
        title:
          'Процедура мануальной терапии + включает в себя сегментарный массаж, по авторской методике и проводится главным врачом, д.м.н., профессором (мягкотканные техники) до 60 минут',
        price: '8000₽',
      },
      { title: 'Биодинамическая коррекция позвоночника', price: '6000₽' },
      {
        title: 'Кинезиотейпирование (тейпы включены в стоимость)',
        price: '3000₽',
      },
    ],
  },
  {
    title: 'Рефлексотерапия',
    items: [
      {
        title:
          'Корпоральная иглорефлексотерапия по авторской методике и проводится главным врачом, д.м.н., профессором',
        price: '5500₽',
      },
      {
        title:
          'Корпоральная иглорефлексотерапия миофасциальных триггерных точек, по авторской методике и проводится главным врачом, д.м.н., профессором.',
        price: '7500₽',
      },
      {
        title:
          'Корпоральная иглорефлексотерапия с использованием игл из драгоценных металлов (золото)',
        price: '6000₽',
      },
      {
        title:
          'Микроиглорефлексотерапия (иглорефлексотерапия длительного действия)',
        price: '2000₽',
      },
      { title: 'Аурикулярная рефлексотерапия (классическая)', price: '1950₽' },
      {
        title: 'Аурикулярная рефлексотерапия (посеребренная игла)',
        price: '2450₽',
      },
      {
        title: 'Аурикулярная рефлексотерапия (позолоченная игла)',
        price: '2950₽',
      },
      { title: 'Аурикулярная рефлексотерапия (микроиглы)', price: '3700₽' },
      { title: 'Краниорефлексотерапия', price: '3000₽' },
      {
        title:
          'Терморефлексотерапия (прогревание сигарами, моксами до 45 минут)',
        price: '3000₽',
      },
      {
        title: 'Вакуумрефлексотерапия (пневматическими банками до 30 минут)',
        price: '2500₽',
      },
      { title: 'Вакуумрефлексотерапия (китайскими банками)', price: '2500₽' },
      { title: 'Цуборефлексотерапия', price: '1100₽' },
      { title: 'Магнитовакуумрефлексотерапия', price: '1250₽' },
      { title: 'Цветосветоимпульсная рефлексотерапия', price: '2000₽' },
      { title: 'Рефлексотерапия с микрокровопусканием', price: '5000₽' },
      { title: 'Фармакопунктурная рефлексотерапия', price: '7000₽' },
      { title: 'Электрорефлексотерапия / Электроакупунктура', price: '4500₽' },
      {
        title: 'Лечебная блокада периартикулярная (без стоимости препарата)',
        price: '3500₽',
      },
      {
        title: 'Лечебная блокада паравертебральная (без стоимости препарата)',
        price: '3200₽',
      },
    ],
  },
  {
    title: 'Массаж',
    items: [
      {
        title: 'Массаж шейно-воротниковой области (до 30 минут)',
        price: '3500₽',
      },
      {
        title:
          'Массаж верхних конечностей, надплечий и областей лопаток (до 30 минут)',
        price: '1900₽',
      },
      { title: 'Массаж спины (до 30 минут)', price: '3500₽' },
      {
        title: 'Массаж пояснично-крестцового отдела позвоночника (до 30 минут)',
        price: '2500₽',
      },
      {
        title: 'Массаж нижних конечностей, голеней (до 30 минут)',
        price: '1900₽',
      },
      { title: 'Общий медицинский массаж (до 60 мин)', price: '5000₽' },
      { title: 'Лимфодренажный массаж (до 60 минут)', price: '6000₽' },
      {
        title: 'Процедура корректирующего массажа (до 60 минут)',
        price: '5000₽',
      },
      { title: 'Релаксирующий массаж (до 60 минут)', price: '5000₽' },
      { title: 'Миофасциальный массаж (до 60 минут)', price: '5500₽' },
      { title: 'Баночный (вакуумный) массаж до 30 минут', price: '3000₽' },
      { title: 'Массаж при корешковом синдроме (до 45 минут)', price: '5000₽' },
      {
        title: 'Массаж при грыжах межпозвонковых дисков (до 45 минут)',
        price: '5000₽',
      },
      { title: 'Массаж при сколиозе (до 30 минут)', price: '3500₽' },
    ],
  },
  {
    title: 'Лечебные программы',
    items: [
      {
        title: 'Программа «Лечение грыжи межпозвонкового диска», 1 визит',
        price: '7500₽',
      },
      { title: 'Программа «Лечение остеохондроза», 1 визит', price: '7000₽' },
      {
        title: 'Программа «Лечение миофасциального синдрома», 1 визит',
        price: '7000₽',
      },
      {
        title: 'Программа «Комплексное лечение болевого синдрома», 1 визит',
        price: '7000₽',
      },
      { title: 'Программа «Антитабак», 1 визит', price: '7500₽' },
      { title: 'Программа «Долголетие», 1 визит', price: '6000₽' },
      { title: 'Программа «Иммунитет плюс», 1 визит', price: '6000₽' },
      { title: 'Программы снижения веса, 1 визит', price: '6900₽' },
      {
        title: 'Программа «Реабилитация после травм», 1 визит',
        price: '7000₽',
      },
      { title: 'Программа «Антистресс», 1 визит', price: '6000₽' },
      {
        title: 'Программа «Биодинамическая коррекция позвоночника», 1 визит',
        price: '7000₽',
      },
    ],
  },
  {
    title: 'Физиотерапия',
    items: [
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 1000 - 2000 импульсов',
        price: '3000₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 2000 - 3000 импульсов',
        price: '3700₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 3000 - 4000 импульсов',
        price: '4400₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 4000 - 5000 импульсов',
        price: '5100₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 5000 - 6000 импульсов',
        price: '5800₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 6000 - 7000 импульсов',
        price: '6500₽',
      },
      {
        title:
          'Ударно-волновая терапия (фокусированная) от 7000 - 8000 импульсов',
        price: '7200₽',
      },
      {
        title: 'Чрескожная электронейростимуляция (позвоночника)',
        price: '2100₽',
      },
      {
        title: 'Чрескожная электронейростимуляция ( один отдел позвоночника)',
        price: '700₽',
      },
      {
        title: 'Чрескожная электронейростимуляция ( один сустав)',
        price: '700₽',
      },
    ],
  },
];

// JSON-LD OfferCatalog (для SEO)
export const buildOfferCatalogJsonLd = () => {
  const provider = {
    '@type': 'MedicalClinic',
    name: 'Arti Clinic',
    url: 'https://articlinic.ru',
    address: { '@type': 'PostalAddress', addressCountry: 'RU' },
  };

  const asNumber = (s: string) =>
    Number((s || '').replace(/[^\d.]/g, '')) || undefined;

  return {
    '@context': 'https://schema.org',
    '@type': 'OfferCatalog',
    name: 'Arti Clinic — Прайс-лист',
    url: 'https://articlinic.ru/price-list',
    itemListElement: PRICE_CATEGORIES.map((cat) => ({
      '@type': 'OfferCatalog',
      name: cat.title,
      itemListElement: cat.items.map((it) => ({
        '@type': 'Service',
        name: it.title,
        provider,
        offers: {
          '@type': 'Offer',
          price: asNumber(it.price),
          priceCurrency: 'RUB',
          url: `https://articlinic.ru/price-list#${slugify(cat.title)}`,
          availability: 'https://schema.org/InStock',
        },
      })),
    })),
  };
};
